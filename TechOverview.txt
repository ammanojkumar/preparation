JAVA (Latest 18)
----------------
Basic
Collection
String

Thread/Executor - An object that executes submitted Runnable tasks.
	java.util.concurrent package -> Executor, Future, ThreadFactory
	ExecutorService executor = Executors.newSingleThreadExecutor();
	ExecutorService executor2 = Executors.newFixedThreadPool(3);

Java 11
-------
String class: isBlank, lines, strip, stripLeading, stripTrailing, and repeat.
List<String> lines = multilineString.lines().filter(line -> !line.isBlank()).map(String::strip).collect(Collectors.toList());

Path filePath = Files.writeString(Files.createTempFile(tempDir, "demo", ".txt"), "Sample text");
String fileContent = Files.readString(filePath);

List to array -> String[] sampleArray = sampleList.toArray(String[]::new);
..filter(Predicate.not(String::isBlank))
..map((@Nonnull var x) -> x.toUpperCase())

we don't need to compile the Java source files with javac explicitly anymore:
$ java HelloWorld.java

JAVA 8
------
Stream:
1. Function Intertface: Function<T,R>.apply, Predicate<T>.test, Consumer<T>.accept, Supplier.get 
2. Inermediate operations: filter(Predicate<T>.test), map(Function<T,R>.apply), peek(Consumer), distinct, sorted, limit, skip
3. Terminal operations: collect(), foreach(Consumer<T>.accept), count, noneMatch, anyMatch, allMatch, findFirst, findAny, forEach
4. Optional - Optional is a container object which may or may not contain a non-null value
	Optional<> opt = Optional.of()/Optional.ofNullable(); boolean val = opt.isPresent(), .ifPresent(consumer), .ifPresentOrElse(consumer,runnable),
	.orElse(obj), .orElseGet(supplier), .orElseThrow(supplier)
5. Date API: Thread safety, API design and Ease code, ZonedDate and Time
	import java.time.LocalDateTime; LocalDateTime.now() -> 2022-09-20T08:20:49.753512600
	LocalTime sixThirty = LocalTime.parse("06:30");LocalDateTime.of(2015, Month.FEBRUARY, 20, 06, 30); ZoneId zoneId = ZoneId.of("Europe/Paris");
	LocalDate.parse("2016-06-12").isBefore(LocalDate.parse("2016-06-11"));
	long diff = ChronoUnit.DAYS.between(LocalDate, LocalDate); long diff = ChronoUnit.SECONDS.between(DateTime, DateTime);
6. Short circuit operations - limit, noneMatch, anyMatch, allMatch, findFirst, findAny

Examples:
	1. int sum = intList.stream().mapToInt(Integer::valueOf).sum(); 
	2. Min, max, sum, average - stream().mapToInt(x -> x).summaryStatistics(); 
	3. list.stream().mapToInt(Integer::valueOf).count();
	4. Sum by reduce - Arrays.stream(intArr).reduce((a, b) -> a + b).getAsInt();
	5. Find duplicates - list.stream().filter(i -> Collections.frequency(list, i) > 1).collect(Collectors.toSet())
	6. Find duplicates - list.stream().collect(Collectors.groupingBy(Function.identity(), Collectors.counting())).entrySet().stream().
		filter(m -> m.getValue() > 1).map(Map.Entry::getKey).collect(Collectors.toSet());
	7. Prime - IntStream.rangeClosed(2, num / 2).noneMatch(i -> num % i == 0)
	8. rangeClosed - IntStream.rangeClosed(1, 10).forEach(System.out::print); rangeClosed until end value
	9. Perfect square - IntStream.rangeClosed(2, num / 2).anyMatch(i -> i * i == num)
	10. Iterate - Stream.iterate(1, i -> i + 1).limit(10).forEach(System.out::print);
	11. Even numbers - Stream.iterate(1, n -> n + 1).filter(n -> n % 2 == 0).limit(10).forEach(System.out::println);	
	12. Split string - String names = ..collect(Collectors.joining(", ")
	13. map.entrySet().stream().sorted(Map.Entry.comparingByKey()).peek(e -> intList.add(e.getKey())).
		map(e -> e.getValue()).collect(Collectors.toList());
	14. Map2Map: Map Value Ordered - map.entrySet().stream().sorted((s1, s2) -> s1.getValue().getPercentage() - s2.getValue().getPercentage())
		.collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (oldValue, newValue) -> oldValue, HashMap::new));

Hashmap internal working -> Java 8 replaces linkedlist to binarytree if threshold reached
map vs flatMap
stream vs parllelStream
Method reference: Static method, Instance method, constructor

DESIGN PATTERN
-------------
SOLID - Single Responsibilty Principle, Open/Closed Principle, Liskov Substitution, Interface Segregation, Dependency Inversion
Builder, Factory, AbstractFactory, Singleton

Microservices Design Patterns: API Gateway, Asynchronous Messaging, Database

Spring Framework Design Patterns: Inversion of Control (IOC), Proxy Pattern,Singleton Pattern, Factory Pattern, Decorator Pattern, Strategy Pattern
This pattern is used by spring to load beans using 
BeanFactory and ApplicationContext. 

SPRING - LATEST VERSION 5.3
--------------------------
Features - Light weight, Loosly coupled, IOC, Spring container, AOP

SPRING BOOT - LATEST VERSION 2.7.4
----------------------------------
RAD Rabid App Development, stand alone app, embbeded server (tom,jetty), auto config,
compare to spring, boilerplate code and lot of configs removed 
@SpringBootApplication -> @EnableAutoConfiguration, @ComponentScan, @Configuration 
@value(${server.port})
profile-> spring.profile.active
-Rest
-AOP
	cross-cutting concerns., @Aspect, @Advice, @PointCut	
	@Before("execution(* io.mk.logging.controller..*(..))")
	@Around, @After, @AfterReturning, @AfterThrowing
-Swagger
	Swagger2 is an open source project used to generate the REST API documents for RESTful web services. It provides a user interface to access our RESTful web services via the web browser.	
	@EnableSwagger2 at component class
	return new Docket(DocumentationType.SWAGGER_2).select().apis(RequestHandlerSelectors.any())
					.paths(PathSelectors.ant("/physician/*")).build().apiInfo(apiEndPointsInfo());
	@Api(value = "Physician controller") at class
	@ApiOperation(value = "Get Physician", response = Physician.class) at method
	@ApiResponses(value = {@ApiResponse(code = 200, message = "Successfully retrieved Physician")})
-Annotations
	@Qualifier, @Primary
-Actuator - monitor and manage app.
	management.endpoints.web.exposure.include=*
	management.endpoints.web.path-mapping.health=hlth // rename
	custom - @Endpoint(id = "appStatus") at class, @ReadOperation(@Selector)/@WriteOperation/@DeleteOperation at method
	urls: Health, Info, Beans, Mappings, Configprops, Httptrace, Heapdump, Threaddump, Shutdown
-Security
	Knowledge based (pwd, pin, security questions), Possession based (otp, key/batch, access token), Mixed
	spring.security.user/password
	@enableWebSecurity
	public class CustomSecurityConfig extends WebSecurityCongurerAdapter {
	@override configure mhd
	@override configure(HttpSecurity) mhd2
	httpSecurity.authorizeRequests().antMatchers("/employee/admin").hasRole("ADMIN").permitAll().and().formLogin();

Rest-api-request-validation
    @Column(nullable = false, length = 512, unique = true)


-Exception
	Handling exceptions and errors in APIs and sending the proper response to the client is good for enterprise applications.
	@ControllerAdvice, @ExceptionHandler

-Cache
spring.cache.jcache.config=classpath:ehcache.xml
@Cacheable(cacheNames = "tvCache", key = "#channelId") at method

-Mongodb
@Document(collection = "TVChannel") at class
spring.data.mongodb.host=localhost
spring.data.mongodb.port=27017
spring.data.mongodb.database=TVChannelDB

-Test
@RunWith(SpringRunner.class)
@WebMvcTest(WelcomeController.class)
this.mockMvc.perform(get("/welcomeme")).andDo(print()).andExpect(status().isOk()).andExpect(content().string(containsString("You are welcome")));

-batch
	JobLauncher->Job->Step->ItemReader/ItemProcessor/ItemWriter
	
-Scheduler
	@EnableScheduling
	@Scheduled(cron = "1/8 * * * * *")
	@Scheduled(fixedDelay = 3000)
	
SPRING CLOUD (microservices)
----------------------------
-Eureka
	Service registry
	eureka.client.service-url.defaultZone
-Zuul
	Zuul is a JVM-based router and server-side load balancer from Netflix. Zuul is the front door for all requests from devices and web sites to the backend of the Netflix streaming application
-Ribbon
	Ribbon is a client-side load balancer that gives you a lot of control over the behavior of HTTP and TCP clients
-Config server
	spring.profiles.active=dev
	spring.cloud.config.uri=http://localhost:8888
	spring.cloud.config.server.native.searchLocations=classpath:conf-files/
-Kafka
	Apache Kafka is an open source project used to publish and subscribe the messages based on the fault-tolerant messaging system
	producer1,2,.. -> Kafka cluster (Broker1 (Topic1 (Partition1,2,..) ,Topic2,..), Broker2,.. ) on ZooKeeper -> consumer1,2,..
	Puplisher (Producer)
		kafkaTemplate.send("topic", object);
		Map<String, Object> configs = new HashMap<>();
		configs.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, "localhost:9092");
		configs.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);
		configs.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);
		return new DefaultKafkaProducerFactory<String, Object>(configs);
	Subscriber (Consumer)
		@EnableKafka
		@KafkaListener
		Map<String, Object> configs = new HashMap<>();
		configs.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, "localhost:9092");
		configs.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);
		configs.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);
		configs.put(ConsumerConfig.GROUP_ID_CONFIG, "javatechie-1");
		return new DefaultKafkaConsumerFactory<>(configs);
	Features
		Fault tolerance, Replication, Scalability, High volume, Performance
	
	
-Feign
	Feign is a declarative web service client. It makes writing web service clients easier. To use Feign create an interface and annotate it. 
	@FeignClient(url = "http://desktop-asas:7001/", name = "insurance-service")
	public interface AccFeignClient {
		@RequestMapping(value = "balance/{accNumber}")
		public String getBalance(@PathVariable String accNumber);
	}
-Hystrix
	Hystrix that implements the circuit breaker pattern. In a microservice architecture, it is common to have multiple layers of service calls
	@HystrixCommand(fallbackMethod = "defaultStores",
	 commandProperties = {
       @HystrixProperty(name = "execution.isolation.thread.timeoutInMilliseconds", value = "3000"),
       @HystrixProperty(name = "circuitBreaker.errorThresholdPercentage", value="60")
    })
	
-LoadBalanced

-Springbbot integration test

Spring bean scope
singleton
prototype
request
session
application
websocket

HIBERNATE/JPA 
-------------
spring.datasource.url
spring.jpa.properties.dialect.hibernate
-states
-1st level cache (session level/Local), 2nd level cache (SessionFactoty level/Global, EHCache)
-save update merge
-connect multiple db
	database1.datasource.url=jdbc:mysql://localhost/testdb
	database1.datasource.username=root
	database2.datasource.url=jdbc:mysql://localhost/testdb2
	@Bean(name = "datasource1")
	@ConfigurationProperties("database1.datasource")
	@Primary
	public DataSource dataSource(){
		return DataSourceBuilder.create().build();
	}
	..

MAVEN
-----
-scope (Compile-default, Runtime, Provided, Test, System, import)
-dependency & dependency management

KUBERNETES
----------
kind: Service
kind: Deployment

kubectl apply -f currency-po.yml
kubectl exec pod/currency-service-fd8bbb8f9-wfft7 -it -- bash

DOCKER
------
Dockerfile
FROM openjdk:11.0.2-jdk
WORKDIR /app
COPY ./target/currency-service-0.0.1-SNAPSHOT.jar /app
EXPOSE 8080
ENTRYPOINT ["sh", "-c", "java -jar currency-service-0.0.1-SNAPSHOT.jar"]

docker build -t currency-service:0.0.1 .
docker run -it -p 8080:8080 currency-service

DATABASE
--------
MongoDB - MongoDB is an open-source document database and leading NoSQL database. RDBMS->Mongo, Table->Collection, Row->Document, column->Field
h2db - spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect

AZURE - platform as a service (PaaS)
-----

PCF - Paas
---


INTERVIEW QUESTIONS
-------------------
1. what makes sting immutable
2. cloud config server
3. how to configure monitor, micro services (actuator) change url
4. how hashmap works internally
5. how set works internally
6. parllel vs normal stream
7. optional
8. hashcode equals contract
8. wait an notify
8. functional interface
9. PCF 
10. Java 8 memory management update

1. log vulnerability
2. spring boot scheduler
3. spring boot batch
4. JMS
5. MongoDB
6. Kafka

1. Why wait and notify is declared in Object class instead of Thread? 
2. Why are multiple inheritances not supported in Java but in java 8? 
4. Why is String immutable in Java? 
5. Why char array is preferred to store passwords than a String in Java? 
6. What happens if your Serializable class contains a member which is not serializable? How to fix

Stub service
Karate
New man
Typescript
Observable (rxjs

Azure cloud
 create resources group
 create app service
 select deployment server